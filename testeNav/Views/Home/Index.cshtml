@using Microsoft.AspNetCore.Identity
@using testeNav.Models
@model IEnumerable<testeNav.Models.ApplicationUser>

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "Home Page";
}



<head>
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/carrousel.css" />
</head>


<div id="main">
    <p class="first hidden">Início</p>
    <div class="line pad hidden"></div>
    <div class="slideshow-container">

        <div class="mySlides fade">
            <img src="~/img/banner/1.png" style="width:100%">
        </div>

        <div class="mySlides fade">
            <img src="~/img/banner/2.png" style="width:100%">
        </div>

        <div class="mySlides fade">
            <img src="~/img/banner/3.png" style="width:100%">
        </div>
    </div>
    <div id="SearchContainer">
        <a href="#card_agricultor"><p>Agricultores</p></a>
        <div id="box">
            <i class="fa-solid fa-magnifying-glass iconsearch"></i>
            <input type="text" name="Search" placeholder="Encontre o que precisa:" class="input_search">
        </div>
    </div>
    <div class="line pad"></div>
   @if (SignInManager.IsSignedIn(User))
    {
        var user = await UserManager.GetUserAsync(User);
        var fotoUser = "default.jpg";

        if (await UserManager.IsInRoleAsync(user, "Vendedor"))
        {

            if (user.foto != null)
            {
            fotoUser = user.foto;
            }
            
        }

        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
            <img src="~/img/@fotoUser" alt="Foto Usuario" class="rounded-circle" width="150" height="150" />
        </button>

    }
    else
        {
        <p>Bem-vindo! Faça login para ver mais.</p>
        }


    <div id="SearchContainer">
        <a href="#cardline"><p>Produtos</p></a>
        <div id="box">
            <i class="fa-solid fa-magnifying-glass iconsearch"></i>
            <input type="text" name="Search" placeholder="Encontre o que precisa:" class="input_search">
        </div>
    </div>
    <div class="line pad"></div>
    <div id="cardline">
        <div id="card">
            <div id="imgcard">
                <img src="~/img/produtos/borba.svg" alt="" id="item">
            </div>
            <div id="text">
                <h2>Unidade Alface</h2>
                <div id="cardprice">
                    <p>Vendedor vendedor</p>
                    <span>R$ 5,00</span>
                </div>
                <button>Adicionar ao Carrinho</button>
            </div>
        </div>

        <div id="card">
            <div id="imgcard">
                <img src="~/img/produtos/borba.svg" alt="" id="item">
            </div>
            <div id="text">
                <h2>Unidade Alface</h2>
                <div id="cardprice">
                    <p>Vendedor vendedor</p>
                    <span>R$ 5,00</span>
                </div>
                <button>Adicionar ao Carrinho</button>
            </div>
        </div>

        <div id="card">
            <div id="imgcard">
                <img src="~/img/produtos/borba.svg" alt="" id="item">
            </div>
            <div id="text">
                <h2>Unidade Alface</h2>
                <div id="cardprice">
                    <p>Vendedor vendedor</p>
                    <span>R$ 5,00</span>
                </div>
                <button>Adicionar ao Carrinho</button>
            </div>
        </div>

        <div id="card">
            <div id="imgcard">
                <img src="~/img/produtos/borba.svg" alt="" id="item">
            </div>
            <div id="text">
                <h2>Unidade Alface</h2>
                <div id="cardprice">
                    <p>Vendedor vendedor</p>
                    <span>R$ 5,00</span>
                </div>
                <button>Adicionar ao Carrinho</button>
            </div>
        </div>
    </div>
</div>
<script src="~/js/site.js" asp-append-version="true"></script>